<%- include('../partials/header') %>

<div class="container mt-4">
  <h2>Generate Report</h2>
  <% const error = locals.error; const success = locals.success; %>

<% if (error && error.length > 0) { %>
  <div class="alert alert-danger" role="alert">
    <%= error[0] %>
  </div>
<% } %>

<% if (success && success.length > 0) { %>
  <div class="alert alert-success" role="alert">
    <%= success[0] %>
  </div>
<% } %>

  <form action="/reports/generate" method="POST">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    
    <div class="form-group">
      <label>Report Type</label>
      <select name="reportType" class="form-control" required>
        <option value="Sales">Sales Report</option>
        <option value="Purchases">Purchases Report</option>
        <option value="Inventory">Inventory Report</option>
      </select>
    </div>
    
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Start Date</label>
          <input type="date" name="startDate" class="form-control" required>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>End Date</label>
          <input type="date" name="endDate" class="form-control" required>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label>Output Format</label>
      <select name="format" class="form-control" required>
        <option value="html">View in Browser</option>
        <option value="pdf">Download PDF</option>
      </select>
    </div>
    
    <button type="submit" class="btn btn-primary">Generate Report</button>
  </form>
</div>

<%- include('../partials/footer') %>